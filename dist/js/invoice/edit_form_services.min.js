const servicesTbody=document.querySelector(".invoice-edit__form-box-services-table tbody"),addNewServiceBtn=document.querySelector(".new-service-btn"),showEmptyInfo=()=>{var e=servicesTbody.querySelectorAll("tr");servicesTbody.querySelector(".empty-info").style.display=1===e.length?"grid":"none"},updateItemsNumbers=(document.addEventListener("DOMContentLoaded",showEmptyInfo),()=>{var t=document.querySelectorAll(".invoice-edit__form-box-services-table .service-item-number"),n=document.querySelectorAll(".position-hidden-input");for(let e=0;e<t.length;e++)t[e].textContent=e+1;for(let e=0;e<n.length;e++)n[e].value=e+1});let servicesLength=servicesTbody.querySelectorAll("tr").length;const createNewService=e=>{e.preventDefault();var e=document.createElement("tr"),t=document.createElement("td"),n=(t.innerHTML=`<span class="service-title--mobile">No.: </span><span class="service-item-number"></span>
	<input hidden class="position-hidden-input" type="text" name="position[${servicesLength}]" value=""></input>`,document.createElement("td")),a=(n.innerHTML=`<span class="service-title--mobile">Item / service: </span>
	<input class="service-item-name"  type="text" name="service_name[${servicesLength}]">`,document.createElement("td")),s=(a.innerHTML=`<span class="service-title--mobile">Service code: </span>
	<input class="service-item-code" type="text" name="service_code[${servicesLength}]">`,document.createElement("td")),r=(s.innerHTML=`<span class="service-title--mobile">Quantity: </span>
	<input type="number" value="1" min="0" class="service-item-amount" name="quantity[${servicesLength}]">`,document.createElement("td")),c=(r.innerHTML=`<span class="service-title--mobile">Net price (PLN): </span>
	<input type="number" min="0" value="0.00" class="service-item-net-value" name="item_net_price[${servicesLength}]" step=".01">`,document.createElement("td")),l=(c.innerHTML=`<span class="service-title--mobile">Tax: </span>
	<select class="service-item-tax" name="service_tax[${servicesLength}]">
		<option value="0">tax-free</option>
		<option value="0.08">8%</option>
		<option value="0.23">23%</option>
	</select>`,document.createElement("td")),i=(l.innerHTML=`<span class="service-title--mobile">Net sum (PLN): </span>
	<input type="text" value="0.00 PLN" class="service-item-net-sum" name="service_total_net[${servicesLength}]" readonly>`,document.createElement("td")),o=(i.innerHTML=`<span class="service-title--mobile">Gross sum (PLN): </span>
	<input type="text" value="0.00 PLN" class="service-item-gross-sum" name="service_total_gross[${servicesLength}]" readonly>`,document.createElement("td"));o.innerHTML=`<button class="delete-btn">
	<i class="fa-solid fa-trash"></i>Delete</button>`,e.append(t,n,a,s,r,c,l,i,o),servicesTbody.append(e),updateItemsNumbers(),showEmptyInfo(),servicesLength++},calculateItemTotalNet=(addNewServiceBtn.addEventListener("click",e=>createNewService(e)),e=>{var t=e.target.parentElement.parentElement,n=t.querySelector(".service-item-amount").value,a=t.querySelector(".service-item-net-value").value;t.querySelector(".service-item-net-sum").value=((n*a).toFixed(2)+" PLN").replace(".",","),calculateItemTotalGross(e,(n*a).toFixed(2))}),calculateItemTotalGross=e=>{var e=e.target.parentElement.parentElement,t=e.querySelector(".service-item-tax").value,n=e.querySelector(".service-item-net-sum").value,e=e.querySelector(".service-item-gross-sum"),t=parseFloat(t)*parseFloat(n.replace(",","."))+parseFloat(n.replace(",","."));e.value=(t.toFixed(2)+" PLN").replace(".",","),calculateTableSummary()},changeValueInHiddenInput=(e,t)=>{document.querySelector(t).value=e},calculateInvoiceTotalNet=()=>{var e=document.querySelectorAll(".service-item-net-sum"),t=document.querySelector(".invoice-total-net");let n=0;e.forEach(e=>{n+=parseFloat(e.value.replace(",","."))}),t.textContent=(n.toFixed(2)+" PLN").replace(".",","),changeValueInHiddenInput(n.toFixed(2),"#total-net")},calculateInvoiceTotalGross=()=>{var e=document.querySelectorAll(".service-item-gross-sum"),t=document.querySelector(".invoice-total-gross");let n=0;e.forEach(e=>{n+=parseFloat(e.value.replace(",","."))}),t.textContent=(n.toFixed(2)+" PLN").replace(".",","),changeValueInHiddenInput(n.toFixed(2),"#total-gross"),changeValueInHiddenInput(n.toFixed(2),"#to-pay-numeric"),changeValueInHiddenInput(verbalNotation(n.toFixed(2)),"#to-pay-verbal")},calculateTableSummary=()=>{calculateInvoiceTotalNet(),calculateInvoiceTotalGross()},deleteServiceItem=(document.addEventListener("input",e=>{(e.target.classList.contains("service-item-amount")||e.target.classList.contains("service-item-net-value"))&&calculateItemTotalNet(e),e.target.classList.contains("service-item-tax")&&calculateItemTotalGross(e)}),e=>{e.preventDefault(),e.target.parentElement.parentElement.outerHTML="",updateServicesTable()}),updateServicesTable=(document.addEventListener("click",e=>{e.target.classList.contains("delete-btn")&&deleteServiceItem(e)}),()=>{updateItemsNumbers(),showEmptyInfo(),calculateTableSummary()});document.addEventListener("DOMContentLoaded",updateServicesTable),document.addEventListener("keydown",e=>{"Enter"===e.key&&"textarea"!==e.target.localName&&e.preventDefault()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW52b2ljZS9lZGl0X2Zvcm1fc2VydmljZXMubWluLmpzIiwic291cmNlcyI6WyJpbnZvaWNlL2VkaXRfZm9ybV9zZXJ2aWNlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gRElTUExBWSBJTkZPIFdIRU4gVEJPRFkgSVMgRU1QVFlcclxuXHJcbmNvbnN0IHNlcnZpY2VzVGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG5cdCcuaW52b2ljZS1lZGl0X19mb3JtLWJveC1zZXJ2aWNlcy10YWJsZSB0Ym9keSdcclxuKTtcclxuY29uc3QgYWRkTmV3U2VydmljZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXctc2VydmljZS1idG4nKTtcclxuXHJcbmNvbnN0IHNob3dFbXB0eUluZm8gPSAoKSA9PiB7XHJcblx0Y29uc3Qgc2VydmljZXMgPSBzZXJ2aWNlc1Rib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RyJyk7XHJcblx0Y29uc3QgZW1wdHlJbmZvID0gc2VydmljZXNUYm9keS5xdWVyeVNlbGVjdG9yKCcuZW1wdHktaW5mbycpO1xyXG5cdGVtcHR5SW5mby5zdHlsZS5kaXNwbGF5ID0gc2VydmljZXMubGVuZ3RoID09PSAxID8gJ2dyaWQnIDogJ25vbmUnO1xyXG59O1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIHNob3dFbXB0eUluZm8pO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEFERCBTRVJWSUNFIEFGVEVSIENMSUNLIFRIRVwiQUREXCIgQlVUVE9OXHJcblxyXG5jb25zdCB1cGRhdGVJdGVtc051bWJlcnMgPSAoKSA9PiB7XHJcblx0Y29uc3QgaXRlbXNOb1NwYW5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuXHRcdCcuaW52b2ljZS1lZGl0X19mb3JtLWJveC1zZXJ2aWNlcy10YWJsZSAuc2VydmljZS1pdGVtLW51bWJlcidcclxuXHQpO1xyXG5cclxuXHRjb25zdCBwb3NpdGlvbkhpZGRlbklucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcblx0XHQnLnBvc2l0aW9uLWhpZGRlbi1pbnB1dCdcclxuXHQpO1xyXG5cclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zTm9TcGFucy5sZW5ndGg7IGkrKykge1xyXG5cdFx0aXRlbXNOb1NwYW5zW2ldLnRleHRDb250ZW50ID0gaSArIDE7XHJcblx0fVxyXG5cclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IHBvc2l0aW9uSGlkZGVuSW5wdXRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRwb3NpdGlvbkhpZGRlbklucHV0c1tpXS52YWx1ZSA9IGkgKyAxO1xyXG5cdH1cclxufTtcclxuXHJcbmxldCBzZXJ2aWNlc0xlbmd0aCA9IHNlcnZpY2VzVGJvZHkucXVlcnlTZWxlY3RvckFsbCgndHInKS5sZW5ndGg7XHJcbmNvbnN0IGNyZWF0ZU5ld1NlcnZpY2UgPSAoZSkgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0Y29uc3QgbmV3SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcblx0Y29uc3QgaXRlbU5vU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcblx0aXRlbU5vU3Bhbi5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCJzZXJ2aWNlLXRpdGxlLS1tb2JpbGVcIj5Oby46IDwvc3Bhbj48c3BhbiBjbGFzcz1cInNlcnZpY2UtaXRlbS1udW1iZXJcIj48L3NwYW4+XHJcblx0PGlucHV0IGhpZGRlbiBjbGFzcz1cInBvc2l0aW9uLWhpZGRlbi1pbnB1dFwiIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInBvc2l0aW9uWyR7c2VydmljZXNMZW5ndGh9XVwiIHZhbHVlPVwiXCI+PC9pbnB1dD5gO1xyXG5cclxuXHRjb25zdCBzZXJ2aWNlTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcblx0c2VydmljZU5hbWUuaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwic2VydmljZS10aXRsZS0tbW9iaWxlXCI+SXRlbSAvIHNlcnZpY2U6IDwvc3Bhbj5cclxuXHQ8aW5wdXQgY2xhc3M9XCJzZXJ2aWNlLWl0ZW0tbmFtZVwiICB0eXBlPVwidGV4dFwiIG5hbWU9XCJzZXJ2aWNlX25hbWVbJHtzZXJ2aWNlc0xlbmd0aH1dXCI+YDtcclxuXHJcblx0Y29uc3QgYWN0aXZpdHlDb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuXHRhY3Rpdml0eUNvZGUuaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwic2VydmljZS10aXRsZS0tbW9iaWxlXCI+U2VydmljZSBjb2RlOiA8L3NwYW4+XHJcblx0PGlucHV0IGNsYXNzPVwic2VydmljZS1pdGVtLWNvZGVcIiB0eXBlPVwidGV4dFwiIG5hbWU9XCJzZXJ2aWNlX2NvZGVbJHtzZXJ2aWNlc0xlbmd0aH1dXCI+YDtcclxuXHJcblx0Y29uc3QgYW1vdW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuXHRhbW91bnQuaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwic2VydmljZS10aXRsZS0tbW9iaWxlXCI+UXVhbnRpdHk6IDwvc3Bhbj5cclxuXHQ8aW5wdXQgdHlwZT1cIm51bWJlclwiIHZhbHVlPVwiMVwiIG1pbj1cIjBcIiBjbGFzcz1cInNlcnZpY2UtaXRlbS1hbW91bnRcIiBuYW1lPVwicXVhbnRpdHlbJHtzZXJ2aWNlc0xlbmd0aH1dXCI+YDtcclxuXHJcblx0Y29uc3QgbmV0VmFsdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG5cdG5ldFZhbHVlLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cInNlcnZpY2UtdGl0bGUtLW1vYmlsZVwiPk5ldCBwcmljZSAoUExOKTogPC9zcGFuPlxyXG5cdDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbWluPVwiMFwiIHZhbHVlPVwiMC4wMFwiIGNsYXNzPVwic2VydmljZS1pdGVtLW5ldC12YWx1ZVwiIG5hbWU9XCJpdGVtX25ldF9wcmljZVske3NlcnZpY2VzTGVuZ3RofV1cIiBzdGVwPVwiLjAxXCI+YDtcclxuXHJcblx0Y29uc3QgdGF4VmFsdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG5cdHRheFZhbHVlLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cInNlcnZpY2UtdGl0bGUtLW1vYmlsZVwiPlRheDogPC9zcGFuPlxyXG5cdDxzZWxlY3QgY2xhc3M9XCJzZXJ2aWNlLWl0ZW0tdGF4XCIgbmFtZT1cInNlcnZpY2VfdGF4WyR7c2VydmljZXNMZW5ndGh9XVwiPlxyXG5cdFx0PG9wdGlvbiB2YWx1ZT1cIjBcIj50YXgtZnJlZTwvb3B0aW9uPlxyXG5cdFx0PG9wdGlvbiB2YWx1ZT1cIjAuMDhcIj44JTwvb3B0aW9uPlxyXG5cdFx0PG9wdGlvbiB2YWx1ZT1cIjAuMjNcIj4yMyU8L29wdGlvbj5cclxuXHQ8L3NlbGVjdD5gO1xyXG5cclxuXHRjb25zdCBuZXRTdW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG5cdG5ldFN1bS5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCJzZXJ2aWNlLXRpdGxlLS1tb2JpbGVcIj5OZXQgc3VtIChQTE4pOiA8L3NwYW4+XHJcblx0PGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCIwLjAwIFBMTlwiIGNsYXNzPVwic2VydmljZS1pdGVtLW5ldC1zdW1cIiBuYW1lPVwic2VydmljZV90b3RhbF9uZXRbJHtzZXJ2aWNlc0xlbmd0aH1dXCIgcmVhZG9ubHk+YDtcclxuXHJcblx0Y29uc3QgZ3Jvc3NTdW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG5cdGdyb3NzU3VtLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cInNlcnZpY2UtdGl0bGUtLW1vYmlsZVwiPkdyb3NzIHN1bSAoUExOKTogPC9zcGFuPlxyXG5cdDxpbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlPVwiMC4wMCBQTE5cIiBjbGFzcz1cInNlcnZpY2UtaXRlbS1ncm9zcy1zdW1cIiBuYW1lPVwic2VydmljZV90b3RhbF9ncm9zc1ske3NlcnZpY2VzTGVuZ3RofV1cIiByZWFkb25seT5gO1xyXG5cclxuXHRjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG5cdGRlbGV0ZUJ0bi5pbm5lckhUTUwgPSBgPGJ1dHRvbiBjbGFzcz1cImRlbGV0ZS1idG5cIj5cclxuXHQ8aSBjbGFzcz1cImZhLXNvbGlkIGZhLXRyYXNoXCI+PC9pPkRlbGV0ZTwvYnV0dG9uPmA7XHJcblxyXG5cdG5ld0l0ZW0uYXBwZW5kKFxyXG5cdFx0aXRlbU5vU3BhbixcclxuXHRcdHNlcnZpY2VOYW1lLFxyXG5cdFx0YWN0aXZpdHlDb2RlLFxyXG5cdFx0YW1vdW50LFxyXG5cdFx0bmV0VmFsdWUsXHJcblx0XHR0YXhWYWx1ZSxcclxuXHRcdG5ldFN1bSxcclxuXHRcdGdyb3NzU3VtLFxyXG5cdFx0ZGVsZXRlQnRuXHJcblx0KTtcclxuXHRzZXJ2aWNlc1Rib2R5LmFwcGVuZChuZXdJdGVtKTtcclxuXHJcblx0dXBkYXRlSXRlbXNOdW1iZXJzKCk7XHJcblx0c2hvd0VtcHR5SW5mbygpO1xyXG5cclxuXHRzZXJ2aWNlc0xlbmd0aCsrO1xyXG59O1xyXG5cclxuYWRkTmV3U2VydmljZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiBjcmVhdGVOZXdTZXJ2aWNlKGUpKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBDQUxDVUxBVEUgVkFMVUVTIElOIFNFUlZJQ0UgSVRFTVxyXG5cclxuY29uc3QgY2FsY3VsYXRlSXRlbVRvdGFsTmV0ID0gKGUpID0+IHtcclxuXHRjb25zdCBpdGVtID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG5cdGNvbnN0IGFtb3VudCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLnNlcnZpY2UtaXRlbS1hbW91bnQnKS52YWx1ZTtcclxuXHRjb25zdCBuZXRQZXJPbmVQaWVjZSA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLnNlcnZpY2UtaXRlbS1uZXQtdmFsdWUnKS52YWx1ZTtcclxuXHRjb25zdCBuZXQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5zZXJ2aWNlLWl0ZW0tbmV0LXN1bScpO1xyXG5cclxuXHRuZXQudmFsdWUgPSBgJHsoYW1vdW50ICogbmV0UGVyT25lUGllY2UpLnRvRml4ZWQoMil9IFBMTmAucmVwbGFjZSgnLicsICcsJyk7XHJcblx0Y2FsY3VsYXRlSXRlbVRvdGFsR3Jvc3MoZSwgKGFtb3VudCAqIG5ldFBlck9uZVBpZWNlKS50b0ZpeGVkKDIpKTtcclxufTtcclxuXHJcbmNvbnN0IGNhbGN1bGF0ZUl0ZW1Ub3RhbEdyb3NzID0gKGUpID0+IHtcclxuXHRjb25zdCBpdGVtID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG5cdGNvbnN0IHRheCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLnNlcnZpY2UtaXRlbS10YXgnKS52YWx1ZTtcclxuXHRjb25zdCBuZXRWYWx1ZSA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLnNlcnZpY2UtaXRlbS1uZXQtc3VtJykudmFsdWU7XHJcblx0Y29uc3Qgc3VtR3Jvc3MgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5zZXJ2aWNlLWl0ZW0tZ3Jvc3Mtc3VtJyk7XHJcblxyXG5cdGNvbnN0IHRvdGFsR3Jvc3MgPVxyXG5cdFx0cGFyc2VGbG9hdCh0YXgpICogcGFyc2VGbG9hdChuZXRWYWx1ZS5yZXBsYWNlKCcsJywgJy4nKSkgK1xyXG5cdFx0cGFyc2VGbG9hdChuZXRWYWx1ZS5yZXBsYWNlKCcsJywgJy4nKSk7XHJcblxyXG5cdHN1bUdyb3NzLnZhbHVlID0gYCR7dG90YWxHcm9zcy50b0ZpeGVkKDIpfSBQTE5gLnJlcGxhY2UoJy4nLCAnLCcpO1xyXG5cclxuXHRjYWxjdWxhdGVUYWJsZVN1bW1hcnkoKTtcclxufTtcclxuXHJcbmNvbnN0IGNoYW5nZVZhbHVlSW5IaWRkZW5JbnB1dCA9ICh2YWx1ZVN0cmluZywgaW5wdXRJZFN0cmluZykgPT4ge1xyXG5cdGNvbnN0IGlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbnB1dElkU3RyaW5nKTtcclxuXHRpbnB1dC52YWx1ZSA9IHZhbHVlU3RyaW5nO1xyXG59O1xyXG5cclxuY29uc3QgY2FsY3VsYXRlSW52b2ljZVRvdGFsTmV0ID0gKCkgPT4ge1xyXG5cdGNvbnN0IGFsbE5ldFZhbHVlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZXJ2aWNlLWl0ZW0tbmV0LXN1bScpO1xyXG5cdGNvbnN0IGludm9pY2VUb3RhbE5ldFNwYW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW52b2ljZS10b3RhbC1uZXQnKTtcclxuXHRsZXQgc3VtID0gMDtcclxuXHJcblx0YWxsTmV0VmFsdWVzLmZvckVhY2goKGVsKSA9PiB7XHJcblx0XHRzdW0gKz0gcGFyc2VGbG9hdChlbC52YWx1ZS5yZXBsYWNlKCcsJywgJy4nKSk7XHJcblx0fSk7XHJcblxyXG5cdGludm9pY2VUb3RhbE5ldFNwYW4udGV4dENvbnRlbnQgPSBgJHtzdW0udG9GaXhlZCgyKX0gUExOYC5yZXBsYWNlKCcuJywgJywnKTtcclxuXHJcblx0Y2hhbmdlVmFsdWVJbkhpZGRlbklucHV0KHN1bS50b0ZpeGVkKDIpLCAnI3RvdGFsLW5ldCcpO1xyXG59O1xyXG5cclxuY29uc3QgY2FsY3VsYXRlSW52b2ljZVRvdGFsR3Jvc3MgPSAoKSA9PiB7XHJcblx0Y29uc3QgYWxsR3Jvc3NWYWx1ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VydmljZS1pdGVtLWdyb3NzLXN1bScpO1xyXG5cdGNvbnN0IGludm9pY2VUb3RhbEdyb3NzU3BhbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XHQnLmludm9pY2UtdG90YWwtZ3Jvc3MnXHJcblx0KTtcclxuXHRsZXQgc3VtID0gMDtcclxuXHJcblx0YWxsR3Jvc3NWYWx1ZXMuZm9yRWFjaCgoZWwpID0+IHtcclxuXHRcdHN1bSArPSBwYXJzZUZsb2F0KGVsLnZhbHVlLnJlcGxhY2UoJywnLCAnLicpKTtcclxuXHR9KTtcclxuXHJcblx0aW52b2ljZVRvdGFsR3Jvc3NTcGFuLnRleHRDb250ZW50ID0gYCR7c3VtLnRvRml4ZWQoMil9IFBMTmAucmVwbGFjZShcclxuXHRcdCcuJyxcclxuXHRcdCcsJ1xyXG5cdCk7XHJcblxyXG5cdGNoYW5nZVZhbHVlSW5IaWRkZW5JbnB1dChzdW0udG9GaXhlZCgyKSwgJyN0b3RhbC1ncm9zcycpO1xyXG5cdGNoYW5nZVZhbHVlSW5IaWRkZW5JbnB1dChzdW0udG9GaXhlZCgyKSwgJyN0by1wYXktbnVtZXJpYycpO1xyXG5cdGNoYW5nZVZhbHVlSW5IaWRkZW5JbnB1dCh2ZXJiYWxOb3RhdGlvbihzdW0udG9GaXhlZCgyKSksICcjdG8tcGF5LXZlcmJhbCcpO1xyXG59O1xyXG5cclxuY29uc3QgY2FsY3VsYXRlVGFibGVTdW1tYXJ5ID0gKCkgPT4ge1xyXG5cdGNhbGN1bGF0ZUludm9pY2VUb3RhbE5ldCgpO1xyXG5cdGNhbGN1bGF0ZUludm9pY2VUb3RhbEdyb3NzKCk7XHJcbn07XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XHJcblx0aWYgKFxyXG5cdFx0ZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZXJ2aWNlLWl0ZW0tYW1vdW50JykgfHxcclxuXHRcdGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2VydmljZS1pdGVtLW5ldC12YWx1ZScpXHJcblx0KSB7XHJcblx0XHRjYWxjdWxhdGVJdGVtVG90YWxOZXQoZSk7XHJcblx0fVxyXG5cclxuXHRpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZXJ2aWNlLWl0ZW0tdGF4JykpIHtcclxuXHRcdGNhbGN1bGF0ZUl0ZW1Ub3RhbEdyb3NzKGUpO1xyXG5cdH1cclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gREVMRVRFIFNFUlZJQ0UgSVRFTVxyXG5jb25zdCBkZWxldGVTZXJ2aWNlSXRlbSA9IChlKSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRjb25zdCBpdGVtID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG5cdGl0ZW0ub3V0ZXJIVE1MID0gJyc7XHJcblxyXG5cdHVwZGF0ZVNlcnZpY2VzVGFibGUoKTtcclxufTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHRpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkZWxldGUtYnRuJykpIHtcclxuXHRcdGRlbGV0ZVNlcnZpY2VJdGVtKGUpO1xyXG5cdH1cclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVVBEQVRFIFNFUlZJQ0VTIFRBQkxFIEFGVEVSIExPQUQgUEFHRVxyXG5jb25zdCB1cGRhdGVTZXJ2aWNlc1RhYmxlID0gKCkgPT4ge1xyXG5cdHVwZGF0ZUl0ZW1zTnVtYmVycygpO1xyXG5cdHNob3dFbXB0eUluZm8oKTtcclxuXHRjYWxjdWxhdGVUYWJsZVN1bW1hcnkoKTtcclxufTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCB1cGRhdGVTZXJ2aWNlc1RhYmxlKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBCbG9jayB0aGUgZm9ybSBmcm9tIGJlaW5nIHNlbnQgYXV0b21hdGljYWxseSBieSBwcmVzc2luZyB0aGUgRW50ZXIga2V5XHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xyXG5cdGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiBlLnRhcmdldC5sb2NhbE5hbWUgIT09ICd0ZXh0YXJlYScpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHR9XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsic2VydmljZXNUYm9keSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFkZE5ld1NlcnZpY2VCdG4iLCJzaG93RW1wdHlJbmZvIiwic2VydmljZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwic3R5bGUiLCJkaXNwbGF5IiwibGVuZ3RoIiwidXBkYXRlSXRlbXNOdW1iZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIml0ZW1zTm9TcGFucyIsInBvc2l0aW9uSGlkZGVuSW5wdXRzIiwibGV0IiwiaSIsInRleHRDb250ZW50IiwidmFsdWUiLCJzZXJ2aWNlc0xlbmd0aCIsImNyZWF0ZU5ld1NlcnZpY2UiLCJlIiwicHJldmVudERlZmF1bHQiLCJuZXdJdGVtIiwiY3JlYXRlRWxlbWVudCIsIml0ZW1Ob1NwYW4iLCJzZXJ2aWNlTmFtZSIsImlubmVySFRNTCIsImFjdGl2aXR5Q29kZSIsImFtb3VudCIsIm5ldFZhbHVlIiwidGF4VmFsdWUiLCJuZXRTdW0iLCJncm9zc1N1bSIsImRlbGV0ZUJ0biIsImFwcGVuZCIsImNhbGN1bGF0ZUl0ZW1Ub3RhbE5ldCIsIml0ZW0iLCJ0YXJnZXQiLCJwYXJlbnRFbGVtZW50IiwibmV0UGVyT25lUGllY2UiLCJ0b0ZpeGVkIiwicmVwbGFjZSIsImNhbGN1bGF0ZUl0ZW1Ub3RhbEdyb3NzIiwidGF4Iiwic3VtR3Jvc3MiLCJ0b3RhbEdyb3NzIiwicGFyc2VGbG9hdCIsImNhbGN1bGF0ZVRhYmxlU3VtbWFyeSIsImNoYW5nZVZhbHVlSW5IaWRkZW5JbnB1dCIsInZhbHVlU3RyaW5nIiwiaW5wdXRJZFN0cmluZyIsImNhbGN1bGF0ZUludm9pY2VUb3RhbE5ldCIsImFsbE5ldFZhbHVlcyIsImludm9pY2VUb3RhbE5ldFNwYW4iLCJzdW0iLCJmb3JFYWNoIiwiZWwiLCJjYWxjdWxhdGVJbnZvaWNlVG90YWxHcm9zcyIsImFsbEdyb3NzVmFsdWVzIiwiaW52b2ljZVRvdGFsR3Jvc3NTcGFuIiwidmVyYmFsTm90YXRpb24iLCJkZWxldGVTZXJ2aWNlSXRlbSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwib3V0ZXJIVE1MIiwidXBkYXRlU2VydmljZXNUYWJsZSIsImtleSIsImxvY2FsTmFtZSJdLCJtYXBwaW5ncyI6IkFBR0EsTUFBTUEsY0FBZ0JDLFNBQVNDLGNBQzlCLDhDQUNELEVBQ01DLGlCQUFtQkYsU0FBU0MsY0FBYyxrQkFBa0IsRUFFNURFLGNBQWdCLEtBQ3JCLElBQU1DLEVBQVdMLGNBQWNNLGlCQUFpQixJQUFJLEVBQ2xDTixjQUFjRSxjQUFjLGFBQWEsRUFDakRLLE1BQU1DLFFBQThCLElBQXBCSCxFQUFTSSxPQUFlLE9BQVMsTUFDNUQsRUFPTUMsb0JBTE5ULFNBQVNVLGlCQUFpQixtQkFBb0JQLGFBQWEsRUFLaEMsS0FDMUIsSUFBTVEsRUFBZVgsU0FBU0ssaUJBQzdCLDZEQUNELEVBRU1PLEVBQXVCWixTQUFTSyxpQkFDckMsd0JBQ0QsRUFFQSxJQUFLUSxJQUFJQyxFQUFJLEVBQUdBLEVBQUlILEVBQWFILE9BQVFNLENBQUMsR0FDekNILEVBQWFHLEdBQUdDLFlBQWNELEVBQUksRUFHbkMsSUFBS0QsSUFBSUMsRUFBSSxFQUFHQSxFQUFJRixFQUFxQkosT0FBUU0sQ0FBQyxHQUNqREYsRUFBcUJFLEdBQUdFLE1BQVFGLEVBQUksQ0FFdEMsR0FFQUQsSUFBSUksZUFBaUJsQixjQUFjTSxpQkFBaUIsSUFBSSxFQUFFRyxPQUMxRCxNQUFNVSxpQkFBbUIsSUFD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
