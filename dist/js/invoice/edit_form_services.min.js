const changeValueInHiddenInput=(e,t)=>{document.querySelector(t).value=e},servicesTbody=document.querySelector(".invoice-edit__form-box-services-table tbody"),addNewServiceBtn=document.querySelector(".new-service-btn"),showEmptyInfo=()=>{var e=servicesTbody.querySelectorAll("tr");servicesTbody.querySelector(".empty-info").style.display=1===e.length?"grid":"none"},updateItemsNumbers=(document.addEventListener("DOMContentLoaded",showEmptyInfo),()=>{var t=document.querySelectorAll(".invoice-edit__form-box-services-table .service-item-number"),n=document.querySelectorAll(".position-hidden-input");for(let e=0;e<t.length;e++)t[e].textContent=e+1;for(let e=0;e<n.length;e++)n[e].value=e+1});let servicesLength=servicesTbody.querySelectorAll("tr").length;const createNewService=e=>{e.preventDefault();var e=document.createElement("tr"),t=document.createElement("td"),n=(t.innerHTML=`<span class="service-title--mobile">No.: </span><span class="service-item-number"></span>
<input hidden class="position-hidden-input" type="text" name="position[${servicesLength}]" value=""></input>`,document.createElement("td")),a=(n.innerHTML=`<span class="service-title--mobile">Item / service: </span>
<input class="service-item-name"  type="text" name="service_name[${servicesLength}]">`,document.createElement("td")),s=(a.innerHTML=`<span class="service-title--mobile">Service code: </span>
<input class="service-item-code" type="text" name="service_code[${servicesLength}]">`,document.createElement("td")),c=(s.innerHTML=`<span class="service-title--mobile">Quantity: </span>
<input type="number" value="1" min="0" class="service-item-amount" name="quantity[${servicesLength}]">`,document.createElement("td")),r=(c.innerHTML=`<span class="service-title--mobile">Net price (PLN): </span>
<input type="number" min="0" value="0.00" class="service-item-net-value" name="item_net_price[${servicesLength}]" step=".01">`,document.createElement("td")),l=(r.innerHTML=`<span class="service-title--mobile">Tax: </span>
<select class="service-item-tax" name="service_tax[${servicesLength}]">
	<option value="0">tax-free</option>
	<option value="0.08">8%</option>
	<option value="0.23">23%</option>
</select>`,document.createElement("td")),i=(l.innerHTML=`<span class="service-title--mobile">Net sum (PLN): </span>
<input type="text" value="0.00 PLN" class="service-item-net-sum" name="service_total_net[${servicesLength}]" readonly>`,document.createElement("td")),o=(i.innerHTML=`<span class="service-title--mobile">Gross sum (PLN): </span>
<input type="text" value="0.00 PLN" class="service-item-gross-sum" name="service_total_gross[${servicesLength}]" readonly>`,document.createElement("td"));o.innerHTML=`<button class="delete-btn">
<i class="fa-solid fa-trash"></i>Delete</button>`,e.append(t,n,a,s,c,r,l,i,o),servicesTbody.append(e),updateItemsNumbers(),showEmptyInfo(),servicesLength++},calculateItemTotalNet=(addNewServiceBtn.addEventListener("click",e=>createNewService(e)),e=>{var t=e.querySelector(".service-item-amount").value,n=e.querySelector(".service-item-net-value").value;e.querySelector(".service-item-net-sum").value=((t*n).toFixed(2)+" PLN").replace(".",","),calculateItemTotalGross(e)}),calculateItemTotalGross=e=>{var t=e.querySelector(".service-item-tax").value,n=e.querySelector(".service-item-net-sum").value,e=e.querySelector(".service-item-gross-sum"),t=parseFloat(t)*parseFloat(n.replace(",","."))+parseFloat(n.replace(",","."));e.value=(t.toFixed(2)+" PLN").replace(".",","),calculateTableSummary()},calculateInvoiceTotalNet=()=>{var e=document.querySelectorAll(".service-item-net-sum"),t=document.querySelector(".invoice-total-net");let n=0;e.forEach(e=>{n+=parseFloat(e.value.replace(",","."))}),t.textContent=(n.toFixed(2)+" PLN").replace(".",","),changeValueInHiddenInput(n.toFixed(2),"#total-net")},calculateInvoiceTotalGross=()=>{var e=document.querySelectorAll(".service-item-gross-sum"),t=document.querySelector(".invoice-total-gross");let n=0;e.forEach(e=>{n+=parseFloat(e.value.replace(",","."))}),t.textContent=(n.toFixed(2)+" PLN").replace(".",","),changeValueInHiddenInput(n.toFixed(2),"#total-gross"),changeValueInHiddenInput(n.toFixed(2),"#to-pay-numeric"),changeValueInHiddenInput(verbalNotation(n.toFixed(2)),"#to-pay-verbal")},calculateTableSummary=()=>{calculateInvoiceTotalNet(),calculateInvoiceTotalGross()},deleteServiceItem=(document.addEventListener("input",e=>{(e.target.classList.contains("service-item-amount")||e.target.classList.contains("service-item-net-value"))&&calculateItemTotalNet(e.target.parentElement.parentElement),e.target.classList.contains("service-item-tax")&&calculateItemTotalGross(e.target.parentElement.parentElement)}),e=>{e.outerHTML="",updateServicesTable()}),updateServicesTable=(document.addEventListener("click",e=>{e.target.classList.contains("delete-btn")&&deleteServiceItem(e.target.parentElement.parentElement)}),()=>{updateItemsNumbers(),showEmptyInfo(),calculateTableSummary()});document.addEventListener("DOMContentLoaded",updateServicesTable),document.addEventListener("keydown",e=>{"Enter"===e.key&&"textarea"!==e.target.localName&&e.preventDefault()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW52b2ljZS9lZGl0X2Zvcm1fc2VydmljZXMubWluLmpzIiwic291cmNlcyI6WyJpbnZvaWNlL2VkaXRfZm9ybV9zZXJ2aWNlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gR0xPQkFMIEZVTkNUSU9OU1xyXG5cclxuLyogXHJcbmNoYW5nZVZhbHVlSW5IaWRkZW5JbnB1dCh2YWx1ZVN0cmluZywgaW5wdXRJZFN0cmluZylcclxuVGhpcyBmdW5jdGlvbiBjb21wbGV0ZXMgdGhlIHZhbHVlIGluIHRoZSBpbmRpY2F0ZWQgaW5wdXRlLlxyXG5JbiB0aGlzIGFwcGxpY2F0aW9uLCB0aGUgdmFsdWUgZnJvbSB0aGUgaGlkZGVuIGlucHV0cyB3aWxsIGxhdGVyIFxyXG5iZSBwYXNzZWQgdmlhIFBPU1QgbWV0aG9kIHRvIHRoZSBQSFAgc2NyaXB0LlxyXG4qL1xyXG5jb25zdCBjaGFuZ2VWYWx1ZUluSGlkZGVuSW5wdXQgPSAodmFsdWVTdHJpbmcsIGlucHV0SWRTdHJpbmcpID0+IHtcclxuXHRjb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5wdXRJZFN0cmluZyk7XHJcblx0aW5wdXQudmFsdWUgPSB2YWx1ZVN0cmluZztcclxufTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBESVNQTEFZIElORk8gV0hFTiBUQk9EWSBJUyBFTVBUWVxyXG5cclxuY29uc3Qgc2VydmljZXNUYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0Jy5pbnZvaWNlLWVkaXRfX2Zvcm0tYm94LXNlcnZpY2VzLXRhYmxlIHRib2R5J1xyXG4pO1xyXG5jb25zdCBhZGROZXdTZXJ2aWNlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5ldy1zZXJ2aWNlLWJ0bicpO1xyXG5cclxuY29uc3Qgc2hvd0VtcHR5SW5mbyA9ICgpID0+IHtcclxuXHRjb25zdCBzZXJ2aWNlcyA9IHNlcnZpY2VzVGJvZHkucXVlcnlTZWxlY3RvckFsbCgndHInKTtcclxuXHRjb25zdCBlbXB0eUluZm8gPSBzZXJ2aWNlc1Rib2R5LnF1ZXJ5U2VsZWN0b3IoJy5lbXB0eS1pbmZvJyk7XHJcblx0ZW1wdHlJbmZvLnN0eWxlLmRpc3BsYXkgPSBzZXJ2aWNlcy5sZW5ndGggPT09IDEgPyAnZ3JpZCcgOiAnbm9uZSc7XHJcbn07XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgc2hvd0VtcHR5SW5mbyk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQUREIFNFUlZJQ0UgQUZURVIgQ0xJQ0sgVEhFXCJBRERcIiBCVVRUT05cclxuXHJcbmNvbnN0IHVwZGF0ZUl0ZW1zTnVtYmVycyA9ICgpID0+IHtcclxuXHRjb25zdCBpdGVtc05vU3BhbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG5cdFx0Jy5pbnZvaWNlLWVkaXRfX2Zvcm0tYm94LXNlcnZpY2VzLXRhYmxlIC5zZXJ2aWNlLWl0ZW0tbnVtYmVyJ1xyXG5cdCk7XHJcblxyXG5cdGNvbnN0IHBvc2l0aW9uSGlkZGVuSW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuXHRcdCcucG9zaXRpb24taGlkZGVuLWlucHV0J1xyXG5cdCk7XHJcblxyXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXNOb1NwYW5zLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRpdGVtc05vU3BhbnNbaV0udGV4dENvbnRlbnQgPSBpICsgMTtcclxuXHR9XHJcblxyXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgcG9zaXRpb25IaWRkZW5JbnB1dHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdHBvc2l0aW9uSGlkZGVuSW5wdXRzW2ldLnZhbHVlID0gaSArIDE7XHJcblx0fVxyXG59O1xyXG5cclxubGV0IHNlcnZpY2VzTGVuZ3RoID0gc2VydmljZXNUYm9keS5xdWVyeVNlbGVjdG9yQWxsKCd0cicpLmxlbmd0aDtcclxuY29uc3QgY3JlYXRlTmV3U2VydmljZSA9IChlKSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRjb25zdCBuZXdJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuXHRjb25zdCBpdGVtTm9TcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuXHRpdGVtTm9TcGFuLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cInNlcnZpY2UtdGl0bGUtLW1vYmlsZVwiPk5vLjogPC9zcGFuPjxzcGFuIGNsYXNzPVwic2VydmljZS1pdGVtLW51bWJlclwiPjwvc3Bhbj5cclxuPGlucHV0IGhpZGRlbiBjbGFzcz1cInBvc2l0aW9uLWhpZGRlbi1pbnB1dFwiIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInBvc2l0aW9uWyR7c2VydmljZXNMZW5ndGh9XVwiIHZhbHVlPVwiXCI+PC9pbnB1dD5gO1xyXG5cclxuXHRjb25zdCBzZXJ2aWNlTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcblx0c2VydmljZU5hbWUuaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwic2VydmljZS10aXRsZS0tbW9iaWxlXCI+SXRlbSAvIHNlcnZpY2U6IDwvc3Bhbj5cclxuPGlucHV0IGNsYXNzPVwic2VydmljZS1pdGVtLW5hbWVcIiAgdHlwZT1cInRleHRcIiBuYW1lPVwic2VydmljZV9uYW1lWyR7c2VydmljZXNMZW5ndGh9XVwiPmA7XHJcblxyXG5cdGNvbnN0IGFjdGl2aXR5Q29kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcblx0YWN0aXZpdHlDb2RlLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cInNlcnZpY2UtdGl0bGUtLW1vYmlsZVwiPlNlcnZpY2UgY29kZTogPC9zcGFuPlxyXG48aW5wdXQgY2xhc3M9XCJzZXJ2aWNlLWl0ZW0tY29kZVwiIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInNlcnZpY2VfY29kZVske3NlcnZpY2VzTGVuZ3RofV1cIj5gO1xyXG5cclxuXHRjb25zdCBhbW91bnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG5cdGFtb3VudC5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCJzZXJ2aWNlLXRpdGxlLS1tb2JpbGVcIj5RdWFudGl0eTogPC9zcGFuPlxyXG48aW5wdXQgdHlwZT1cIm51bWJlclwiIHZhbHVlPVwiMVwiIG1pbj1cIjBcIiBjbGFzcz1cInNlcnZpY2UtaXRlbS1hbW91bnRcIiBuYW1lPVwicXVhbnRpdHlbJHtzZXJ2aWNlc0xlbmd0aH1dXCI+YDtcclxuXHJcblx0Y29uc3QgbmV0VmFsdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG5cdG5ldFZhbHVlLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cInNlcnZpY2UtdGl0bGUtLW1vYmlsZVwiPk5ldCBwcmljZSAoUExOKTogPC9zcGFuPlxyXG48aW5wdXQgdHlwZT1cIm51bWJlclwiIG1pbj1cIjBcIiB2YWx1ZT1cIjAuMDBcIiBjbGFzcz1cInNlcnZpY2UtaXRlbS1uZXQtdmFsdWVcIiBuYW1lPVwiaXRlbV9uZXRfcHJpY2VbJHtzZXJ2aWNlc0xlbmd0aH1dXCIgc3RlcD1cIi4wMVwiPmA7XHJcblxyXG5cdGNvbnN0IHRheFZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuXHR0YXhWYWx1ZS5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCJzZXJ2aWNlLXRpdGxlLS1tb2JpbGVcIj5UYXg6IDwvc3Bhbj5cclxuPHNlbGVjdCBjbGFzcz1cInNlcnZpY2UtaXRlbS10YXhcIiBuYW1lPVwic2VydmljZV90YXhbJHtzZXJ2aWNlc0xlbmd0aH1dXCI+XHJcblx0PG9wdGlvbiB2YWx1ZT1cIjBcIj50YXgtZnJlZTwvb3B0aW9uPlxyXG5cdDxvcHRpb24gdmFsdWU9XCIwLjA4XCI+OCU8L29wdGlvbj5cclxuXHQ8b3B0aW9uIHZhbHVlPVwiMC4yM1wiPjIzJTwvb3B0aW9uPlxyXG48L3NlbGVjdD5gO1xyXG5cclxuXHRjb25zdCBuZXRTdW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG5cdG5ldFN1bS5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCJzZXJ2aWNlLXRpdGxlLS1tb2JpbGVcIj5OZXQgc3VtIChQTE4pOiA8L3NwYW4+XHJcbjxpbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlPVwiMC4wMCBQTE5cIiBjbGFzcz1cInNlcnZpY2UtaXRlbS1uZXQtc3VtXCIgbmFtZT1cInNlcnZpY2VfdG90YWxfbmV0WyR7c2VydmljZXNMZW5ndGh9XVwiIHJlYWRvbmx5PmA7XHJcblxyXG5cdGNvbnN0IGdyb3NzU3VtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuXHRncm9zc1N1bS5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCJzZXJ2aWNlLXRpdGxlLS1tb2JpbGVcIj5Hcm9zcyBzdW0gKFBMTik6IDwvc3Bhbj5cclxuPGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCIwLjAwIFBMTlwiIGNsYXNzPVwic2VydmljZS1pdGVtLWdyb3NzLXN1bVwiIG5hbWU9XCJzZXJ2aWNlX3RvdGFsX2dyb3NzWyR7c2VydmljZXNMZW5ndGh9XVwiIHJlYWRvbmx5PmA7XHJcblxyXG5cdGNvbnN0IGRlbGV0ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcblx0ZGVsZXRlQnRuLmlubmVySFRNTCA9IGA8YnV0dG9uIGNsYXNzPVwiZGVsZXRlLWJ0blwiPlxyXG48aSBjbGFzcz1cImZhLXNvbGlkIGZhLXRyYXNoXCI+PC9pPkRlbGV0ZTwvYnV0dG9uPmA7XHJcblxyXG5cdG5ld0l0ZW0uYXBwZW5kKFxyXG5cdFx0aXRlbU5vU3BhbixcclxuXHRcdHNlcnZpY2VOYW1lLFxyXG5cdFx0YWN0aXZpdHlDb2RlLFxyXG5cdFx0YW1vdW50LFxyXG5cdFx0bmV0VmFsdWUsXHJcblx0XHR0YXhWYWx1ZSxcclxuXHRcdG5ldFN1bSxcclxuXHRcdGdyb3NzU3VtLFxyXG5cdFx0ZGVsZXRlQnRuXHJcblx0KTtcclxuXHRzZXJ2aWNlc1Rib2R5LmFwcGVuZChuZXdJdGVtKTtcclxuXHJcblx0dXBkYXRlSXRlbXNOdW1iZXJzKCk7XHJcblx0c2hvd0VtcHR5SW5mbygpO1xyXG5cclxuXHRzZXJ2aWNlc0xlbmd0aCsrO1xyXG59O1xyXG5cclxuYWRkTmV3U2VydmljZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiBjcmVhdGVOZXdTZXJ2aWNlKGUpKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBDQUxDVUxBVEUgVkFMVUVTIElOIFNFUlZJQ0UgSVRFTVxyXG5cclxuY29uc3QgY2FsY3VsYXRlSXRlbVRvdGFsTmV0ID0gKHNlcnZpY2VUcikgPT4ge1xyXG5cdGNvbnN0IGFtb3VudCA9IHNlcnZpY2VUci5xdWVyeVNlbGVjdG9yKCcuc2VydmljZS1pdGVtLWFtb3VudCcpLnZhbHVlO1xyXG5cdGNvbnN0IG5ldFBlck9uZVBpZWNlID0gc2VydmljZVRyLnF1ZXJ5U2VsZWN0b3IoXHJcblx0XHQnLnNlcnZpY2UtaXRlbS1uZXQtdmFsdWUnXHJcblx0KS52YWx1ZTtcclxuXHRjb25zdCBuZXQgPSBzZXJ2aWNlVHIucXVlcnlTZWxlY3RvcignLnNlcnZpY2UtaXRlbS1uZXQtc3VtJyk7XHJcblxyXG5cdG5ldC52YWx1ZSA9IGAkeyhhbW91bnQgKiBuZXRQZXJPbmVQaWVjZSkudG9GaXhlZCgyKX0gUExOYC5yZXBsYWNlKCcuJywgJywnKTtcclxuXHRjYWxjdWxhdGVJdGVtVG90YWxHcm9zcyhzZXJ2aWNlVHIpO1xyXG59O1xyXG5cclxuY29uc3QgY2FsY3VsYXRlSXRlbVRvdGFsR3Jvc3MgPSAoc2VydmljZVRyKSA9PiB7XHJcblx0Y29uc3QgdGF4ID0gc2VydmljZVRyLnF1ZXJ5U2VsZWN0b3IoJy5zZXJ2aWNlLWl0ZW0tdGF4JykudmFsdWU7XHJcblx0Y29uc3QgbmV0VmFsdWUgPSBzZXJ2aWNlVHIucXVlcnlTZWxlY3RvcignLnNlcnZpY2UtaXRlbS1uZXQtc3VtJykudmFsdWU7XHJcblx0Y29uc3Qgc3VtR3Jvc3MgPSBzZXJ2aWNlVHIucXVlcnlTZWxlY3RvcignLnNlcnZpY2UtaXRlbS1ncm9zcy1zdW0nKTtcclxuXHJcblx0Y29uc3QgdG90YWxHcm9zcyA9XHJcblx0XHRwYXJzZUZsb2F0KHRheCkgKiBwYXJzZUZsb2F0KG5ldFZhbHVlLnJlcGxhY2UoJywnLCAnLicpKSArXHJcblx0XHRwYXJzZUZsb2F0KG5ldFZhbHVlLnJlcGxhY2UoJywnLCAnLicpKTtcclxuXHJcblx0c3VtR3Jvc3MudmFsdWUgPSBgJHt0b3RhbEdyb3NzLnRvRml4ZWQoMil9IFBMTmAucmVwbGFjZSgnLicsICcsJyk7XHJcblxyXG5cdGNhbGN1bGF0ZVRhYmxlU3VtbWFyeSgpO1xyXG59O1xyXG5cclxuY29uc3QgY2FsY3VsYXRlSW52b2ljZVRvdGFsTmV0ID0gKCkgPT4ge1xyXG5cdGNvbnN0IGFsbE5ldFZhbHVlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZXJ2aWNlLWl0ZW0tbmV0LXN1bScpO1xyXG5cdGNvbnN0IGludm9pY2VUb3RhbE5ldFNwYW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW52b2ljZS10b3RhbC1uZXQnKTtcclxuXHRsZXQgc3VtID0gMDtcclxuXHJcblx0YWxsTmV0VmFsdWVzLmZvckVhY2goKGVsKSA9PiB7XHJcblx0XHRzdW0gKz0gcGFyc2VGbG9hdChlbC52YWx1ZS5yZXBsYWNlKCcsJywgJy4nKSk7XHJcblx0fSk7XHJcblxyXG5cdGludm9pY2VUb3RhbE5ldFNwYW4udGV4dENvbnRlbnQgPSBgJHtzdW0udG9GaXhlZCgyKX0gUExOYC5yZXBsYWNlKCcuJywgJywnKTtcclxuXHJcblx0Y2hhbmdlVmFsdWVJbkhpZGRlbklucHV0KHN1bS50b0ZpeGVkKDIpLCAnI3RvdGFsLW5ldCcpO1xyXG59O1xyXG5cclxuY29uc3QgY2FsY3VsYXRlSW52b2ljZVRvdGFsR3Jvc3MgPSAoKSA9PiB7XHJcblx0Y29uc3QgYWxsR3Jvc3NWYWx1ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VydmljZS1pdGVtLWdyb3NzLXN1bScpO1xyXG5cdGNvbnN0IGludm9pY2VUb3RhbEdyb3NzU3BhbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XHQnLmludm9pY2UtdG90YWwtZ3Jvc3MnXHJcblx0KTtcclxuXHRsZXQgc3VtID0gMDtcclxuXHJcblx0YWxsR3Jvc3NWYWx1ZXMuZm9yRWFjaCgoZWwpID0+IHtcclxuXHRcdHN1bSArPSBwYXJzZUZsb2F0KGVsLnZhbHVlLnJlcGxhY2UoJywnLCAnLicpKTtcclxuXHR9KTtcclxuXHJcblx0aW52b2ljZVRvdGFsR3Jvc3NTcGFuLnRleHRDb250ZW50ID0gYCR7c3VtLnRvRml4ZWQoMil9IFBMTmAucmVwbGFjZShcclxuXHRcdCcuJyxcclxuXHRcdCcsJ1xyXG5cdCk7XHJcblxyXG5cdGNoYW5nZVZhbHVlSW5IaWRkZW5JbnB1dChzdW0udG9GaXhlZCgyKSwgJyN0b3RhbC1ncm9zcycpO1xyXG5cdGNoYW5nZVZhbHVlSW5IaWRkZW5JbnB1dChzdW0udG9GaXhlZCgyKSwgJyN0by1wYXktbnVtZXJpYycpO1xyXG5cdGNoYW5nZVZhbHVlSW5IaWRkZW5JbnB1dCh2ZXJiYWxOb3RhdGlvbihzdW0udG9GaXhlZCgyKSksICcjdG8tcGF5LXZlcmJhbCcpO1xyXG59O1xyXG5cclxuY29uc3QgY2FsY3VsYXRlVGFibGVTdW1tYXJ5ID0gKCkgPT4ge1xyXG5cdGNhbGN1bGF0ZUludm9pY2VUb3RhbE5ldCgpO1xyXG5cdGNhbGN1bGF0ZUludm9pY2VUb3RhbEdyb3NzKCk7XHJcbn07XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XHJcblx0aWYgKFxyXG5cdFx0ZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZXJ2aWNlLWl0ZW0tYW1vdW50JykgfHxcclxuXHRcdGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2VydmljZS1pdGVtLW5ldC12YWx1ZScpXHJcblx0KSB7XHJcblx0XHRjYWxjdWxhdGVJdGVtVG90YWxOZXQoZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50KTtcclxuXHR9XHJcblxyXG5cdGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlcnZpY2UtaXRlbS10YXgnKSkge1xyXG5cdFx0Y2FsY3VsYXRlSXRlbVRvdGFsR3Jvc3MoZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50KTtcclxuXHR9XHJcbn0pO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIERFTEVURSBTRVJWSUNFIElURU1cclxuY29uc3QgZGVsZXRlU2VydmljZUl0ZW0gPSAoc2VydmljZVRyKSA9PiB7XHJcblx0c2VydmljZVRyLm91dGVySFRNTCA9ICcnO1xyXG5cdHVwZGF0ZVNlcnZpY2VzVGFibGUoKTtcclxufTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHRpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkZWxldGUtYnRuJykpIHtcclxuXHRcdGRlbGV0ZVNlcnZpY2VJdGVtKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCk7XHJcblx0fVxyXG59KTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBVUERBVEUgU0VSVklDRVMgVEFCTEUgQUZURVIgTE9BRCBQQUdFXHJcbmNvbnN0IHVwZGF0ZVNlcnZpY2VzVGFibGUgPSAoKSA9PiB7XHJcblx0dXBkYXRlSXRlbXNOdW1iZXJzKCk7XHJcblx0c2hvd0VtcHR5SW5mbygpO1xyXG5cdGNhbGN1bGF0ZVRhYmxlU3VtbWFyeSgpO1xyXG59O1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIHVwZGF0ZVNlcnZpY2VzVGFibGUpO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEJsb2NrIHRoZSBmb3JtIGZyb20gYmVpbmcgc2VudCBhdXRvbWF0aWNhbGx5IGJ5IHByZXNzaW5nIHRoZSBFbnRlciBrZXlcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XHJcblx0aWYgKGUua2V5ID09PSAnRW50ZXInICYmIGUudGFyZ2V0LmxvY2FsTmFtZSAhPT0gJ3RleHRhcmVhJykge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdH1cclxufSk7XHJcbiJdLCJuYW1lcyI6WyJjaGFuZ2VWYWx1ZUluSGlkZGVuSW5wdXQiLCJ2YWx1ZVN0cmluZyIsImlucHV0SWRTdHJpbmciLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ2YWx1ZSIsInNlcnZpY2VzVGJvZHkiLCJhZGROZXdTZXJ2aWNlQnRuIiwic2hvd0VtcHR5SW5mbyIsInNlcnZpY2VzIiwicXVlcnlTZWxlY3RvckFsbCIsInN0eWxlIiwiZGlzcGxheSIsImxlbmd0aCIsInVwZGF0ZUl0ZW1zTnVtYmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJpdGVtc05vU3BhbnMiLCJwb3NpdGlvbkhpZGRlbklucHV0cyIsImxldCIsImkiLCJ0ZXh0Q29udGVudCIsInNlcnZpY2VzTGVuZ3RoIiwiY3JlYXRlTmV3U2VydmljZSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIm5ld0l0ZW0iLCJjcmVhdGVFbGVtZW50IiwiaXRlbU5vU3BhbiIsInNlcnZpY2VOYW1lIiwiaW5uZXJIVE1MIiwiYWN0aXZpdHlDb2RlIiwiYW1vdW50IiwibmV0VmFsdWUiLCJ0YXhWYWx1ZSIsIm5ldFN1bSIsImdyb3NzU3VtIiwiZGVsZXRlQnRuIiwiYXBwZW5kIiwiY2FsY3VsYXRlSXRlbVRvdGFsTmV0Iiwic2VydmljZVRyIiwibmV0UGVyT25lUGllY2UiLCJ0b0ZpeGVkIiwicmVwbGFjZSIsImNhbGN1bGF0ZUl0ZW1Ub3RhbEdyb3NzIiwidGF4Iiwic3VtR3Jvc3MiLCJ0b3RhbEdyb3NzIiwicGFyc2VGbG9hdCIsImNhbGN1bGF0ZVRhYmxlU3VtbWFyeSIsImNhbGN1bGF0ZUludm9pY2VUb3RhbE5ldCIsImFsbE5ldFZhbHVlcyIsImludm9pY2VUb3RhbE5ldFNwYW4iLCJzdW0iLCJmb3JFYWNoIiwiZWwiLCJjYWxjdWxhdGVJbnZvaWNlVG90YWxHcm9zcyIsImFsbEdyb3NzVmFsdWVzIiwiaW52b2ljZVRvdGFsR3Jvc3NTcGFuIiwidmVyYmFsTm90YXRpb24iLCJkZWxldGVTZXJ2aWNlSXRlbSIsInRhcmdldCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicGFyZW50RWxlbWVudCIsIm91dGVySFRNTCIsInVwZGF0ZVNlcnZpY2VzVGFibGUiLCJrZXkiLCJsb2NhbE5hbWUiXSwibWFwcGluZ3MiOiJBQVNBLE1BQU1BLHlCQUEyQixDQUFDQyxFQUFhQyxLQUNoQ0MsU0FBU0MsY0FBY0YsQ0FBYSxFQUM1Q0csTUFBUUosQ0FDZixFQUtNSyxjQUFnQkgsU0FBU0MsY0FDOUIsOENBQ0QsRUFDTUcsaUJBQW1CSixTQUFTQyxjQUFjLGtCQUFrQixFQUU1REksY0FBZ0IsS0FDckIsSUFBTUMsRUFBV0gsY0FBY0ksaUJBQWlCLElBQUksRUFDbENKLGNBQWNGLGNBQWMsYUFBYSxFQUNqRE8sTUFBTUMsUUFBOEIsSUFBcEJILEVBQVNJLE9BQWUsT0FBUyxNQUM1RCxFQU9NQyxvQkFMTlgsU0FB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
