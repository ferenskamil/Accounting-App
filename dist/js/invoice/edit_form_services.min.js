const changeValueInHiddenInput=(e,t)=>{document.querySelector(t).value=e},parseAmountToCount=e=>("string"==typeof e&&(e=e.replace(",","."),e=parseFloat(e)),e%1==0&&(e=e.toFixed(2),e=parseFloat(e)),e),servicesTbody=document.querySelector(".invoice-edit__form-box-services-table tbody"),addNewServiceBtn=document.querySelector(".new-service-btn"),showEmptyInfo=()=>{var e=servicesTbody.querySelectorAll("tr");servicesTbody.querySelector(".empty-info").style.display=1===e.length?"grid":"none"},updateItemsNumbers=(document.addEventListener("DOMContentLoaded",showEmptyInfo),()=>{var t=document.querySelectorAll(".invoice-edit__form-box-services-table .service-item-number"),a=document.querySelectorAll(".position-hidden-input");for(let e=0;e<t.length;e++)t[e].textContent=e+1;for(let e=0;e<a.length;e++)a[e].value=e+1});let servicesLength=servicesTbody.querySelectorAll("tr").length;const createNewService=e=>{e.preventDefault();var e=document.createElement("tr"),t=document.createElement("td"),a=(t.innerHTML=`<span class="service-title--mobile">No.: </span><span class="service-item-number"></span>
<input hidden class="position-hidden-input" type="text" name="position[${servicesLength}]" value=""></input>`,document.createElement("td")),n=(a.innerHTML=`<span class="service-title--mobile">Item / service: </span>
<input class="service-item-name"  type="text" name="service_name[${servicesLength}]">`,document.createElement("td")),s=(n.innerHTML=`<span class="service-title--mobile">Service code: </span>
<input class="service-item-code" type="text" name="service_code[${servicesLength}]">`,document.createElement("td")),r=(s.innerHTML=`<span class="service-title--mobile">Quantity: </span>
<input type="number" value="1" min="0" class="service-item-amount" name="quantity[${servicesLength}]">`,document.createElement("td")),c=(r.innerHTML=`<span class="service-title--mobile">Net price (PLN): </span>
<input type="number" min="0" value="0.00" class="service-item-net-value" name="item_net_price[${servicesLength}]" step=".01">`,document.createElement("td")),l=(c.innerHTML=`<span class="service-title--mobile">Tax: </span>
<select class="service-item-tax" name="service_tax[${servicesLength}]">
	<option value="0">tax-free</option>
	<option value="0.08">8%</option>
	<option value="0.23">23%</option>
</select>`,document.createElement("td")),i=(l.innerHTML=`<span class="service-title--mobile">Net sum (PLN): </span>
<input type="text" value="0.00 PLN" class="service-item-net-sum" name="service_total_net[${servicesLength}]" readonly>`,document.createElement("td")),o=(i.innerHTML=`<span class="service-title--mobile">Gross sum (PLN): </span>
<input type="text" value="0.00 PLN" class="service-item-gross-sum" name="service_total_gross[${servicesLength}]" readonly>`,document.createElement("td"));o.innerHTML=`<button class="delete-btn">
<i class="fa-solid fa-trash"></i>Delete</button>`,e.append(t,a,n,s,r,c,l,i,o),servicesTbody.append(e),updateItemsNumbers(),showEmptyInfo(),servicesLength++},calculateItemTotalNet=(addNewServiceBtn.addEventListener("click",e=>createNewService(e)),e=>{var t=e.querySelector(".service-item-amount").value,a=e.querySelector(".service-item-net-value").value;e.querySelector(".service-item-net-sum").value=((t*a).toFixed(2)+" PLN").replace(".",","),calculateItemTotalGross(e)}),calculateItemTotalGross=e=>{var t=e.querySelector(".service-item-tax").value,a=e.querySelector(".service-item-net-sum").value,e=e.querySelector(".service-item-gross-sum"),t=parseFloat(t)*parseFloat(a.replace(",","."))+parseFloat(a.replace(",","."));e.value=(t.toFixed(2)+" PLN").replace(".",","),calculateTableSummary()},calculateInvoiceTotalNet=()=>{var e=document.querySelectorAll(".service-item-net-sum"),t=document.querySelector(".invoice-total-net");let a=0;e.forEach(e=>{a+=parseFloat(e.value.replace(",","."))}),t.textContent=(a.toFixed(2)+" PLN").replace(".",","),changeValueInHiddenInput(a.toFixed(2),"#total-net")},calculateInvoiceTotalGross=()=>{var e=document.querySelectorAll(".service-item-gross-sum"),t=document.querySelector(".invoice-total-gross");let a=0;e.forEach(e=>{a+=parseFloat(e.value.replace(",","."))}),t.textContent=(a.toFixed(2)+" PLN").replace(".",","),changeValueInHiddenInput(a.toFixed(2),"#total-gross"),changeValueInHiddenInput(a.toFixed(2),"#to-pay-numeric"),changeValueInHiddenInput(verbalNotation(a.toFixed(2)),"#to-pay-verbal")},calculateTableSummary=()=>{calculateInvoiceTotalNet(),calculateInvoiceTotalGross()},deleteServiceItem=(document.addEventListener("input",e=>{(e.target.classList.contains("service-item-amount")||e.target.classList.contains("service-item-net-value"))&&calculateItemTotalNet(e.target.parentElement.parentElement),e.target.classList.contains("service-item-tax")&&calculateItemTotalGross(e.target.parentElement.parentElement)}),e=>{e.outerHTML="",updateServicesTable()}),updateServicesTable=(document.addEventListener("click",e=>{e.target.classList.contains("delete-btn")&&deleteServiceItem(e.target.parentElement.parentElement)}),()=>{updateItemsNumbers(),showEmptyInfo(),calculateTableSummary()});document.addEventListener("DOMContentLoaded",updateServicesTable),document.addEventListener("keydown",e=>{"Enter"===e.key&&"textarea"!==e.target.localName&&e.preventDefault()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW52b2ljZS9lZGl0X2Zvcm1fc2VydmljZXMubWluLmpzIiwic291cmNlcyI6WyJpbnZvaWNlL2VkaXRfZm9ybV9zZXJ2aWNlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gR0xPQkFMIEZVTkNUSU9OU1xyXG5cclxuLyogXHJcbmNoYW5nZVZhbHVlSW5IaWRkZW5JbnB1dCh2YWx1ZVN0cmluZywgaW5wdXRJZFN0cmluZylcclxuVGhpcyBmdW5jdGlvbiBjb21wbGV0ZXMgdGhlIHZhbHVlIGluIHRoZSBpbmRpY2F0ZWQgaW5wdXRlLlxyXG5JbiB0aGlzIGFwcGxpY2F0aW9uLCB0aGUgdmFsdWUgZnJvbSB0aGUgaGlkZGVuIGlucHV0cyB3aWxsIGxhdGVyIFxyXG5iZSBwYXNzZWQgdmlhIFBPU1QgbWV0aG9kIHRvIHRoZSBQSFAgc2NyaXB0LlxyXG4qL1xyXG5jb25zdCBjaGFuZ2VWYWx1ZUluSGlkZGVuSW5wdXQgPSAodmFsdWVTdHJpbmcsIGlucHV0SWRTdHJpbmcpID0+IHtcclxuXHRjb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5wdXRJZFN0cmluZyk7XHJcblx0aW5wdXQudmFsdWUgPSB2YWx1ZVN0cmluZztcclxufTtcclxuXHJcbi8qIFxyXG5wYXJzZUFtb3VudFRvQ291bnQodmFsdWUpXHJcblRoaXMgZnVuY3Rpb24gdGFrZXMgYW4gYW1vdW50IChzcmluZykgYW5kIGNvbnZlcnRzIGl0IHRvIGEgbnVtYmVyLlxyXG5FLmcuLiBcclxuJzEyLjk5IFBMTicgPj4+IDEyLjk5XHJcbicxNSBQTE4nID4+PiAxNVxyXG4qL1xyXG5jb25zdCBwYXJzZUFtb3VudFRvQ291bnQgPSAodmFsdWUpID0+IHtcclxuXHQvLyBpZiBzdHJpbmcgY29udmVydCB0byBudW1iZXJcclxuXHRpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xyXG5cdFx0dmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCcsJywgJy4nKTtcclxuXHRcdHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7XHJcblx0fVxyXG5cclxuXHQvLyByb3VuZCB0byB0d28gZGVjaW1hbCBwbGFjZXNcclxuXHRpZiAodmFsdWUgJSAxID09PSAwKSB7XHJcblx0XHR2YWx1ZSA9IHZhbHVlLnRvRml4ZWQoMik7IC8vIGNoYW5nZXMgdG8gc3RyaW5nXHJcblx0XHR2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHZhbHVlO1xyXG59O1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIERJU1BMQVkgSU5GTyBXSEVOIFRCT0RZIElTIEVNUFRZXHJcblxyXG5jb25zdCBzZXJ2aWNlc1Rib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHQnLmludm9pY2UtZWRpdF9fZm9ybS1ib3gtc2VydmljZXMtdGFibGUgdGJvZHknXHJcbik7XHJcbmNvbnN0IGFkZE5ld1NlcnZpY2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV3LXNlcnZpY2UtYnRuJyk7XHJcblxyXG5jb25zdCBzaG93RW1wdHlJbmZvID0gKCkgPT4ge1xyXG5cdGNvbnN0IHNlcnZpY2VzID0gc2VydmljZXNUYm9keS5xdWVyeVNlbGVjdG9yQWxsKCd0cicpO1xyXG5cdGNvbnN0IGVtcHR5SW5mbyA9IHNlcnZpY2VzVGJvZHkucXVlcnlTZWxlY3RvcignLmVtcHR5LWluZm8nKTtcclxuXHRlbXB0eUluZm8uc3R5bGUuZGlzcGxheSA9IHNlcnZpY2VzLmxlbmd0aCA9PT0gMSA/ICdncmlkJyA6ICdub25lJztcclxufTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBzaG93RW1wdHlJbmZvKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBBREQgU0VSVklDRSBBRlRFUiBDTElDSyBUSEVcIkFERFwiIEJVVFRPTlxyXG5cclxuY29uc3QgdXBkYXRlSXRlbXNOdW1iZXJzID0gKCkgPT4ge1xyXG5cdGNvbnN0IGl0ZW1zTm9TcGFucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcblx0XHQnLmludm9pY2UtZWRpdF9fZm9ybS1ib3gtc2VydmljZXMtdGFibGUgLnNlcnZpY2UtaXRlbS1udW1iZXInXHJcblx0KTtcclxuXHJcblx0Y29uc3QgcG9zaXRpb25IaWRkZW5JbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG5cdFx0Jy5wb3NpdGlvbi1oaWRkZW4taW5wdXQnXHJcblx0KTtcclxuXHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtc05vU3BhbnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGl0ZW1zTm9TcGFuc1tpXS50ZXh0Q29udGVudCA9IGkgKyAxO1xyXG5cdH1cclxuXHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwb3NpdGlvbkhpZGRlbklucHV0cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0cG9zaXRpb25IaWRkZW5JbnB1dHNbaV0udmFsdWUgPSBpICsgMTtcclxuXHR9XHJcbn07XHJcblxyXG5sZXQgc2VydmljZXNMZW5ndGggPSBzZXJ2aWNlc1Rib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RyJykubGVuZ3RoO1xyXG5jb25zdCBjcmVhdGVOZXdTZXJ2aWNlID0gKGUpID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdGNvbnN0IG5ld0l0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xyXG5cdGNvbnN0IGl0ZW1Ob1NwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG5cdGl0ZW1Ob1NwYW4uaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwic2VydmljZS10aXRsZS0tbW9iaWxlXCI+Tm8uOiA8L3NwYW4+PHNwYW4gY2xhc3M9XCJzZXJ2aWNlLWl0ZW0tbnVtYmVyXCI+PC9zcGFuPlxyXG48aW5wdXQgaGlkZGVuIGNsYXNzPVwicG9zaXRpb24taGlkZGVuLWlucHV0XCIgdHlwZT1cInRleHRcIiBuYW1lPVwicG9zaXRpb25bJHtzZXJ2aWNlc0xlbmd0aH1dXCIgdmFsdWU9XCJcIj48L2lucHV0PmA7XHJcblxyXG5cdGNvbnN0IHNlcnZpY2VOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuXHRzZXJ2aWNlTmFtZS5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCJzZXJ2aWNlLXRpdGxlLS1tb2JpbGVcIj5JdGVtIC8gc2VydmljZTogPC9zcGFuPlxyXG48aW5wdXQgY2xhc3M9XCJzZXJ2aWNlLWl0ZW0tbmFtZVwiICB0eXBlPVwidGV4dFwiIG5hbWU9XCJzZXJ2aWNlX25hbWVbJHtzZXJ2aWNlc0xlbmd0aH1dXCI+YDtcclxuXHJcblx0Y29uc3QgYWN0aXZpdHlDb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuXHRhY3Rpdml0eUNvZGUuaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwic2VydmljZS10aXRsZS0tbW9iaWxlXCI+U2VydmljZSBjb2RlOiA8L3NwYW4+XHJcbjxpbnB1dCBjbGFzcz1cInNlcnZpY2UtaXRlbS1jb2RlXCIgdHlwZT1cInRleHRcIiBuYW1lPVwic2VydmljZV9jb2RlWyR7c2VydmljZXNMZW5ndGh9XVwiPmA7XHJcblxyXG5cdGNvbnN0IGFtb3VudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcblx0YW1vdW50LmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cInNlcnZpY2UtdGl0bGUtLW1vYmlsZVwiPlF1YW50aXR5OiA8L3NwYW4+XHJcbjxpbnB1dCB0eXBlPVwibnVtYmVyXCIgdmFsdWU9XCIxXCIgbWluPVwiMFwiIGNsYXNzPVwic2VydmljZS1pdGVtLWFtb3VudFwiIG5hbWU9XCJxdWFudGl0eVske3NlcnZpY2VzTGVuZ3RofV1cIj5gO1xyXG5cclxuXHRjb25zdCBuZXRWYWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcblx0bmV0VmFsdWUuaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwic2VydmljZS10aXRsZS0tbW9iaWxlXCI+TmV0IHByaWNlIChQTE4pOiA8L3NwYW4+XHJcbjxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbWluPVwiMFwiIHZhbHVlPVwiMC4wMFwiIGNsYXNzPVwic2VydmljZS1pdGVtLW5ldC12YWx1ZVwiIG5hbWU9XCJpdGVtX25ldF9wcmljZVske3NlcnZpY2VzTGVuZ3RofV1cIiBzdGVwPVwiLjAxXCI+YDtcclxuXHJcblx0Y29uc3QgdGF4VmFsdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG5cdHRheFZhbHVlLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cInNlcnZpY2UtdGl0bGUtLW1vYmlsZVwiPlRheDogPC9zcGFuPlxyXG48c2VsZWN0IGNsYXNzPVwic2VydmljZS1pdGVtLXRheFwiIG5hbWU9XCJzZXJ2aWNlX3RheFske3NlcnZpY2VzTGVuZ3RofV1cIj5cclxuXHQ8b3B0aW9uIHZhbHVlPVwiMFwiPnRheC1mcmVlPC9vcHRpb24+XHJcblx0PG9wdGlvbiB2YWx1ZT1cIjAuMDhcIj44JTwvb3B0aW9uPlxyXG5cdDxvcHRpb24gdmFsdWU9XCIwLjIzXCI+MjMlPC9vcHRpb24+XHJcbjwvc2VsZWN0PmA7XHJcblxyXG5cdGNvbnN0IG5ldFN1bSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcblx0bmV0U3VtLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cInNlcnZpY2UtdGl0bGUtLW1vYmlsZVwiPk5ldCBzdW0gKFBMTik6IDwvc3Bhbj5cclxuPGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCIwLjAwIFBMTlwiIGNsYXNzPVwic2VydmljZS1pdGVtLW5ldC1zdW1cIiBuYW1lPVwic2VydmljZV90b3RhbF9uZXRbJHtzZXJ2aWNlc0xlbmd0aH1dXCIgcmVhZG9ubHk+YDtcclxuXHJcblx0Y29uc3QgZ3Jvc3NTdW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG5cdGdyb3NzU3VtLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cInNlcnZpY2UtdGl0bGUtLW1vYmlsZVwiPkdyb3NzIHN1bSAoUExOKTogPC9zcGFuPlxyXG48aW5wdXQgdHlwZT1cInRleHRcIiB2YWx1ZT1cIjAuMDAgUExOXCIgY2xhc3M9XCJzZXJ2aWNlLWl0ZW0tZ3Jvc3Mtc3VtXCIgbmFtZT1cInNlcnZpY2VfdG90YWxfZ3Jvc3NbJHtzZXJ2aWNlc0xlbmd0aH1dXCIgcmVhZG9ubHk+YDtcclxuXHJcblx0Y29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuXHRkZWxldGVCdG4uaW5uZXJIVE1MID0gYDxidXR0b24gY2xhc3M9XCJkZWxldGUtYnRuXCI+XHJcbjxpIGNsYXNzPVwiZmEtc29saWQgZmEtdHJhc2hcIj48L2k+RGVsZXRlPC9idXR0b24+YDtcclxuXHJcblx0bmV3SXRlbS5hcHBlbmQoXHJcblx0XHRpdGVtTm9TcGFuLFxyXG5cdFx0c2VydmljZU5hbWUsXHJcblx0XHRhY3Rpdml0eUNvZGUsXHJcblx0XHRhbW91bnQsXHJcblx0XHRuZXRWYWx1ZSxcclxuXHRcdHRheFZhbHVlLFxyXG5cdFx0bmV0U3VtLFxyXG5cdFx0Z3Jvc3NTdW0sXHJcblx0XHRkZWxldGVCdG5cclxuXHQpO1xyXG5cdHNlcnZpY2VzVGJvZHkuYXBwZW5kKG5ld0l0ZW0pO1xyXG5cclxuXHR1cGRhdGVJdGVtc051bWJlcnMoKTtcclxuXHRzaG93RW1wdHlJbmZvKCk7XHJcblxyXG5cdHNlcnZpY2VzTGVuZ3RoKys7XHJcbn07XHJcblxyXG5hZGROZXdTZXJ2aWNlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IGNyZWF0ZU5ld1NlcnZpY2UoZSkpO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIENBTENVTEFURSBWQUxVRVMgSU4gU0VSVklDRSBJVEVNXHJcblxyXG5jb25zdCBjYWxjdWxhdGVJdGVtVG90YWxOZXQgPSAoc2VydmljZVRyKSA9PiB7XHJcblx0Y29uc3QgYW1vdW50ID0gc2VydmljZVRyLnF1ZXJ5U2VsZWN0b3IoJy5zZXJ2aWNlLWl0ZW0tYW1vdW50JykudmFsdWU7XHJcblx0Y29uc3QgbmV0UGVyT25lUGllY2UgPSBzZXJ2aWNlVHIucXVlcnlTZWxlY3RvcihcclxuXHRcdCcuc2VydmljZS1pdGVtLW5ldC12YWx1ZSdcclxuXHQpLnZhbHVlO1xyXG5cdGNvbnN0IG5ldCA9IHNlcnZpY2VUci5xdWVyeVNlbGVjdG9yKCcuc2VydmljZS1pdGVtLW5ldC1zdW0nKTtcclxuXHJcblx0bmV0LnZhbHVlID0gYCR7KGFtb3VudCAqIG5ldFBlck9uZVBpZWNlKS50b0ZpeGVkKDIpfSBQTE5gLnJlcGxhY2UoJy4nLCAnLCcpO1xyXG5cdGNhbGN1bGF0ZUl0ZW1Ub3RhbEdyb3NzKHNlcnZpY2VUcik7XHJcbn07XHJcblxyXG5jb25zdCBjYWxjdWxhdGVJdGVtVG90YWxHcm9zcyA9IChzZXJ2aWNlVHIpID0+IHtcclxuXHRjb25zdCB0YXggPSBzZXJ2aWNlVHIucXVlcnlTZWxlY3RvcignLnNlcnZpY2UtaXRlbS10YXgnKS52YWx1ZTtcclxuXHRjb25zdCBuZXRWYWx1ZSA9IHNlcnZpY2VUci5xdWVyeVNlbGVjdG9yKCcuc2VydmljZS1pdGVtLW5ldC1zdW0nKS52YWx1ZTtcclxuXHRjb25zdCBzdW1Hcm9zcyA9IHNlcnZpY2VUci5xdWVyeVNlbGVjdG9yKCcuc2VydmljZS1pdGVtLWdyb3NzLXN1bScpO1xyXG5cclxuXHRjb25zdCB0b3RhbEdyb3NzID1cclxuXHRcdHBhcnNlRmxvYXQodGF4KSAqIHBhcnNlRmxvYXQobmV0VmFsdWUucmVwbGFjZSgnLCcsICcuJykpICtcclxuXHRcdHBhcnNlRmxvYXQobmV0VmFsdWUucmVwbGFjZSgnLCcsICcuJykpO1xyXG5cclxuXHRzdW1Hcm9zcy52YWx1ZSA9IGAke3RvdGFsR3Jvc3MudG9GaXhlZCgyKX0gUExOYC5yZXBsYWNlKCcuJywgJywnKTtcclxuXHJcblx0Y2FsY3VsYXRlVGFibGVTdW1tYXJ5KCk7XHJcbn07XHJcblxyXG5jb25zdCBjYWxjdWxhdGVJbnZvaWNlVG90YWxOZXQgPSAoKSA9PiB7XHJcblx0Y29uc3QgYWxsTmV0VmFsdWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlcnZpY2UtaXRlbS1uZXQtc3VtJyk7XHJcblx0Y29uc3QgaW52b2ljZVRvdGFsTmV0U3BhbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnZvaWNlLXRvdGFsLW5ldCcpO1xyXG5cdGxldCBzdW0gPSAwO1xyXG5cclxuXHRhbGxOZXRWYWx1ZXMuZm9yRWFjaCgoZWwpID0+IHtcclxuXHRcdHN1bSArPSBwYXJzZUZsb2F0KGVsLnZhbHVlLnJlcGxhY2UoJywnLCAnLicpKTtcclxuXHR9KTtcclxuXHJcblx0aW52b2ljZVRvdGFsTmV0U3Bhbi50ZXh0Q29udGVudCA9IGAke3N1bS50b0ZpeGVkKDIpfSBQTE5gLnJlcGxhY2UoJy4nLCAnLCcpO1xyXG5cclxuXHRjaGFuZ2VWYWx1ZUluSGlkZGVuSW5wdXQoc3VtLnRvRml4ZWQoMiksICcjdG90YWwtbmV0Jyk7XHJcbn07XHJcblxyXG5jb25zdCBjYWxjdWxhdGVJbnZvaWNlVG90YWxHcm9zcyA9ICgpID0+IHtcclxuXHRjb25zdCBhbGxHcm9zc1ZhbHVlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZXJ2aWNlLWl0ZW0tZ3Jvc3Mtc3VtJyk7XHJcblx0Y29uc3QgaW52b2ljZVRvdGFsR3Jvc3NTcGFuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcdCcuaW52b2ljZS10b3RhbC1ncm9zcydcclxuXHQpO1xyXG5cdGxldCBzdW0gPSAwO1xyXG5cclxuXHRhbGxHcm9zc1ZhbHVlcy5mb3JFYWNoKChlbCkgPT4ge1xyXG5cdFx0c3VtICs9IHBhcnNlRmxvYXQoZWwudmFsdWUucmVwbGFjZSgnLCcsICcuJykpO1xyXG5cdH0pO1xyXG5cclxuXHRpbnZvaWNlVG90YWxHcm9zc1NwYW4udGV4dENvbnRlbnQgPSBgJHtzdW0udG9GaXhlZCgyKX0gUExOYC5yZXBsYWNlKFxyXG5cdFx0Jy4nLFxyXG5cdFx0JywnXHJcblx0KTtcclxuXHJcblx0Y2hhbmdlVmFsdWVJbkhpZGRlbklucHV0KHN1bS50b0ZpeGVkKDIpLCAnI3RvdGFsLWdyb3NzJyk7XHJcblx0Y2hhbmdlVmFsdWVJbkhpZGRlbklucHV0KHN1bS50b0ZpeGVkKDIpLCAnI3RvLXBheS1udW1lcmljJyk7XHJcblx0Y2hhbmdlVmFsdWVJbkhpZGRlbklucHV0KHZlcmJhbE5vdGF0aW9uKHN1bS50b0ZpeGVkKDIpKSwgJyN0by1wYXktdmVyYmFsJyk7XHJcbn07XHJcblxyXG5jb25zdCBjYWxjdWxhdGVUYWJsZVN1bW1hcnkgPSAoKSA9PiB7XHJcblx0Y2FsY3VsYXRlSW52b2ljZVRvdGFsTmV0KCk7XHJcblx0Y2FsY3VsYXRlSW52b2ljZVRvdGFsR3Jvc3MoKTtcclxufTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcclxuXHRpZiAoXHJcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlcnZpY2UtaXRlbS1hbW91bnQnKSB8fFxyXG5cdFx0ZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZXJ2aWNlLWl0ZW0tbmV0LXZhbHVlJylcclxuXHQpIHtcclxuXHRcdGNhbGN1bGF0ZUl0ZW1Ub3RhbE5ldChlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQpO1xyXG5cdH1cclxuXHJcblx0aWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2VydmljZS1pdGVtLXRheCcpKSB7XHJcblx0XHRjYWxjdWxhdGVJdGVtVG90YWxHcm9zcyhlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQpO1xyXG5cdH1cclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gREVMRVRFIFNFUlZJQ0UgSVRFTVxyXG5jb25zdCBkZWxldGVTZXJ2aWNlSXRlbSA9IChzZXJ2aWNlVHIpID0+IHtcclxuXHRzZXJ2aWNlVHIub3V0ZXJIVE1MID0gJyc7XHJcblx0dXBkYXRlU2VydmljZXNUYWJsZSgpO1xyXG59O1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG5cdGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2RlbGV0ZS1idG4nKSkge1xyXG5cdFx0ZGVsZXRlU2VydmljZUl0ZW0oZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50KTtcclxuXHR9XHJcbn0pO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFVQREFURSBTRVJWSUNFUyBUQUJMRSBBRlRFUiBMT0FEIFBBR0VcclxuY29uc3QgdXBkYXRlU2VydmljZXNUYWJsZSA9ICgpID0+IHtcclxuXHR1cGRhdGVJdGVtc051bWJlcnMoKTtcclxuXHRzaG93RW1wdHlJbmZvKCk7XHJcblx0Y2FsY3VsYXRlVGFibGVTdW1tYXJ5KCk7XHJcbn07XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgdXBkYXRlU2VydmljZXNUYWJsZSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQmxvY2sgdGhlIGZvcm0gZnJvbSBiZWluZyBzZW50IGF1dG9tYXRpY2FsbHkgYnkgcHJlc3NpbmcgdGhlIEVudGVyIGtleVxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcclxuXHRpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgZS50YXJnZXQubG9jYWxOYW1lICE9PSAndGV4dGFyZWEnKSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0fVxyXG59KTtcclxuIl0sIm5hbWVzIjpbImNoYW5nZVZhbHVlSW5IaWRkZW5JbnB1dCIsInZhbHVlU3RyaW5nIiwiaW5wdXRJZFN0cmluZyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInZhbHVlIiwicGFyc2VBbW91bnRUb0NvdW50IiwicmVwbGFjZSIsInBhcnNlRmxvYXQiLCJ0b0ZpeGVkIiwic2VydmljZXNUYm9keSIsImFkZE5ld1NlcnZpY2VCdG4iLCJzaG93RW1wdHlJbmZvIiwic2VydmljZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwic3R5bGUiLCJkaXNwbGF5IiwibGVuZ3RoIiwidXBkYXRlSXRlbXNOdW1iZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIml0ZW1zTm9TcGFucyIsInBvc2l0aW9uSGlkZGVuSW5wdXRzIiwibGV0IiwiaSIsInRleHRDb250ZW50Iiwic2VydmljZXNMZW5ndGgiLCJjcmVhdGVOZXdTZXJ2aWNlIiwiZSIsInByZXZlbnREZWZhdWx0IiwibmV3SXRlbSIsImNyZWF0ZUVsZW1lbnQiLCJpdGVtTm9TcGFuIiwic2VydmljZU5hbWUiLCJpbm5lckhUTUwiLCJhY3Rpdml0eUNvZGUiLCJhbW91bnQiLCJuZXRWYWx1ZSIsInRheFZhbHVlIiwibmV0U3VtIiwiZ3Jvc3NTdW0iLCJkZWxldGVCdG4iLCJhcHBlbmQiLCJjYWxjdWxhdGVJdGVtVG90YWxOZXQiLCJzZXJ2aWNlVHIiLCJuZXRQZXJPbmVQaWVjZSIsImNhbGN1bGF0ZUl0ZW1Ub3RhbEdyb3NzIiwidGF4Iiwic3VtR3Jvc3MiLCJ0b3RhbEdyb3NzIiwiY2FsY3VsYXRlVGFibGVTdW1tYXJ5IiwiY2FsY3VsYXRlSW52b2ljZVRvdGFsTmV0IiwiYWxsTmV0VmFsdWVzIiwiaW52b2ljZVRvdGFsTmV0U3BhbiIsInN1bSIsImZvckVhY2giLCJlbCIsImNhbGN1bGF0ZUludm9pY2VUb3RhbEdyb3NzIiwiYWxsR3Jvc3NWYWx1ZXMiLCJpbnZvaWNlVG90YWxHcm9zc1NwYW4iLCJ2ZXJiYWxOb3RhdGlvbiIsImRlbGV0ZVNlcnZpY2VJdGVtIiwidGFyZ2V0IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJwYXJlbnRFbGVtZW50Iiwib3V0ZXJIVE1MIiwidXBkYXRlU2VydmljZXNUYWJsZSIsImtleSIsImxvY2FsTmFtZSJdLCJtYXBwaW5ncyI6IkFBU0EsTUFBTUEseUJBQTJCLENBQUNDLEVBQWFDLEtBQ2hDQyxTQUFTQyxjQUFjRixDQUFhLEVBQzVDRyxNQUFRSixDQUNmLEVBU01LLG1CQUFxQixJQUVMLFVBQWpCLE9BQU9ELElBQ1ZBLEVBQVFBLEVBQU1FLFFBQVEsSUFBSyxHQUFHLEVBQzlCRixFQUFRRyxXQUFXSCxDQUFLLEdBSXJCQSxFQUFRLEdBQU0sSUFDakJBLEVBQVFBLEVBQU1JLFFBQVEsQ0FBQyxFQUN2QkosRUFBUUcsV0FBV0gsQ0FBSyxHQUdsQkEsR0FNRkssY0FBZ0JQLFNBQVNDLGNBQzlCLDhDQUNELEVBQ01PLGlCQUFtQlIsU0FBU0MsY0FBYyxrQkFBa0IsRUFFNURRLGNBQWdCLEtBQ3JCLElBQU1DLEVBQVdILGNBQWNJLGlCQUFpQixJQUFJLEVBQ2xDSixjQUFjTixjQUFjLGFBQWEsRUFDakRXLE1BQU1DLFFBQThCLElBQXBCSCxFQUFTSSxPQUFlLE9BQVMsTUFDNUQsRUFPTUMsb0JBTE5mLFNBQVNnQixpQkFBaUIsbUJBQW9CUCxhQUFhLEVBS2hDLEtBQzFCLElBQU1RLEVBQWVqQixTQUFTVyxpQkFDN0IsNkRBQ0QsRUFFTU8sRUFBdUJsQixTQUFTVyxpQkFDckMsd0JBQ0QsRUFFQSxJQUFLUSxJQUFJQyxFQUFJLEVBQUdBLEVBQUlILEVBQWFILE9BQVFNLENBQUMsR0FD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
